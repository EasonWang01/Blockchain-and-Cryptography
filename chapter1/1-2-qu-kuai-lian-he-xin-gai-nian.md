# 1-2 區塊鏈核心概念

#### 簡介

區塊鏈是一個概念，而比特幣與乙太幣等其他加密貨幣均為區塊鏈的應用之一

以下簡單一句話理解區塊鏈

> 許多交易組成區塊，許多區塊前後互相鏈結，組成區塊鏈

想像在遠古部落，部落酋長口頭下令了新的部落政策，雖然當時沒有紙筆做記錄，但族人們聽到後都會互相口耳相傳，之後這個政策雖然沒有被一個中心把它記錄下來，但大家心中都知道這件事情了，如果之後這個下這個政策的酋長離職了，剩下的人會以大家多數人講的為真，如果未來有人想竄改先前酋長講過的政策，也會因為與大多數族人講的不同而被拒絕

#### 理解區塊鏈

比特幣可以說近年區塊鏈技術應用火紅的開頭。接下來會先說明比特幣是如何運作，說明過程中會將會一步一步講解區塊鏈的相關概念。

> Bitcoin is an innovative payment network and a new kind of money.   源自比特幣官網[https://bitcoin.org/en/](https://bitcoin.org/en/)

我們最常聽到比特幣是在新聞報導或朋友閒聊時，談到今天比特幣價格又飆漲到了多少，某位玩家又在中國又投資了新的礦機或礦場本書將會在後續章節介紹如何申請一個自己的比特幣地址與錢包，並且進行購買比特幣與轉帳等動作

大家可能會想的第一個問題可能是: 在電腦上的貨幣真的夠安全嗎?

接著我們會想到網路上刷信用卡不也是在網路上的虛擬交易嗎，那線上刷信用卡跟我們使用比特幣他的差別又在哪裡

#### 加密貨幣錢包

> 比特幣地址類似於14qViLJfdGaP4EeHnDyJbEGQysnCpwn1g
>
> 可用的比特幣位址數量接近2的161次方個，假如地球上約有2的63次方粒沙，如果每一粒沙中有一個地球，那麼比特幣位址總數遠遠超過所有這些「地球」上的所有的沙子的數量

為了能在區塊鏈網路裡進行交易，你需要一個比特幣地址，它讓你可以存放你的比特幣。比特幣地址是由一個私鑰之後產生公鑰在進行一些密碼學方法出的一個比特幣地址\(將會在後續章節詳細介紹產生方式\)

每個公鑰都是由一個私鑰所產生

如果一個訊息被公鑰加密，只有配對的私鑰才能解密讀到訊息。反之，如果你用你的私鑰加密訊息，只有配對的公鑰可以解密。所以當小明想要轉帳小王，他需要用他的私鑰將轉帳訊息加密後，送到網路裡，然後每個節點使用小明的公鑰將訊息解開，以確認是由小明發送的。

在加密完成時會產生一個電子簽名，它會被節點們用來確認交易訊息的發送來源和真偽。電子簽名內容是一串文字，它是由私鑰對交易訊息所簽發出的一段hash。如果你更改交易訊息中任何一個字元，電子簽名也會跟著改變，所以駭客很難更改你的交易訊息或是得知交易金額。

\(可從下圖看到貨幣持有者用其私鑰簽發交易 然後將產生的簽名和其公鑰與交易訊息一起納入，將會在後續比特幣交易章節詳細介紹\)

> ![](/assets/交易簽名.png)
>
> [https://bitcoin.org/en/developer-guide](https://bitcoin.org/en/developer-guide)

下圖為一個比較概略的介紹圖

![](/assets/交易簽名2.png)

##### 查詢餘額

我們轉帳後比特幣是如何知道我們現在帳戶餘額是多少呢?

剛才有提到比特幣網路的組成是由全世界跑著比特幣節點程式的電腦所構成

每個節點電腦會進行驗證交易與同步其他節點資料的動作且都保有一份區塊鏈帳本，但節點是如何知道你的帳戶餘額？區塊鏈系統並沒有記錄每個人的帳戶餘額，事實上，它只有紀錄網路上每筆交易紀錄

> _持有比特幣代表的是，於區塊鏈帳本上查詢你的地址還存在著尚未變成輸入交易之紀錄。_

\(看到下圖，如果在Out後的箭頭沒有連接著其他In的話，則其即為目前帳戶的餘額，也稱為`Unspend Output`\)

> ![](/assets/交易過程.png)https://medium.com/@lopp/the-challenges-of-optimizing-unspent-output-selection-a3e5d05d13ef







